# Spring AOP

## AOP的含义
Aspect Oriented Programming 面向切面编程，是一种编程范式，旨在解决特定问题，与面向对象是互补关系。
通过预编译方式和运行期动态代理实现程序功能的统一维护的技术。

## AOP初衷
- DRY Don't Repeat Yourself
- SoC Separation of Concerns 分离关注点
  - 水平分离：展示层、服务层、持久层
  - 垂直分离：模块划分（订单、库存）
  - 切面分离：分离功能性需求和非功能性需求

### 主要功能
- 权限控制
- 缓存控制
- 日志记录
- 性能统计
- 安全控制
- 事务处理
- 异常处理

### 实现方式
- 预编译-AspectJ
- 动态代理
  - JDK动态代理，代理有接口实现的类
  - CGLib动态代理，代理没有接口的类

## AOP的主要概念
- aspect 切面，一个关注点的模块化，这个关注点可能会横切多个对象。比如日志，事务都是切面
- JoinPoint 连接点， 程序执行过程中的某个特定的点。比如一个类中的某个方法
- Advice 通知，在切面的某个特定的的连接点上执行的动作。比如在连接点上执行的切面的方法
- Pointcut 切入点，匹配连接点的断言，在AOP中通知和一个切入点表达式关联，即如何在一个切面中去匹配一个连接点
- Introduction 引入，在不修改类代码的前提下，为类添加新的方法和属性，动态增加新方法和属性
- Target Object 目标对象，被一个或多个切面所通知的对象
- AOP Proxy AOP代理，AOP框架床架的对象，用来实现切面契约
- Weaving 织入，把切面连接到其他的应用程序类型或对象上，并创建一个被通知的对象。分为：编译时织入，类加载时织入和执行时织入

### Advice类型
- 前置通知
- 返回后通知
- 抛出异常后通知
- 后通知
- 环绕通知，包围一个连接点通知

### 织入的时机
- 编译时织入（AspectJ）
- 类加载时织入（AspectJ 5+）
- 运行时织入（Spring AOP）- 通过代理实现（动态代理，静态代理）








